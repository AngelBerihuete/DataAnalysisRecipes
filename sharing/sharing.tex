% This file is part of the Data Analysis Recipes project.
% Copyright 2016 David W. Hogg (NYU).

% to-do
% -----
% - First draft
% - Make sure the ``you'' in the tables is returned to as an issue; who is the audience?
% - Career-stage considerations.

% style notes
% -----------
% - These documents are ``Chapters'', no?  Use \documentname.
% - [LaTeX] newline after every full stop for proper git diffing
% - [LaTeX] eqnarray not equation
% - \note{} right after word if you are endnoting a phrase,
%   but after the full stop if endnoting the sentence or paragraph.

\documentclass[12pt,twoside,pdftex]{article}
\usepackage{dar_endnotes}
\usepackage{enumitem}

\newcommand{\chaptertitle}{The costs and benefits of releasing your data and open-sourcing your code}
\newcommand{\shorttitle}{Releasing data and open-sourcing code}
\include{dar}
\newlength{\myl}
\settowidth{\myl}{9.\rule{\itemsep}{0pt}}
\setlist{nosep, leftmargin=\myl}

\begin{document}\sloppy\sloppypar\raggedbottom\thispagestyle{plain}%
%
\section*{Data analysis recipes:\\ \chaptertitle\footnotemark}
%
\footnotetext{%
    The notes begin on page~\pageref{note:first}, including the
    license\note{\label{note:first}
        Copyright 2016 the author.
        This work is licensed under a
        \href{http://creativecommons.org/licenses/by-nc-nd/3.0/deed.en\_US}{%
            Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported
            License}.}
    and the acknowledgements\note{%
        I would like to thank
          Dustin Lang (Toronto),
          Dan Foreman-Mackey (UW),
          Adrian Price-Whelan (Princeton),
          Sam Roweis (deceased),
          Jake Vanderplas (UW),
          and the entire astrophysics community
        for valuable advice, ideas, and vision over the years.
        I also thank
          Caroline Bot (Strasbourg),
          Paul McMillan (Lund),
          and
          Jason Wright (PSU)
        for comments on the specific content in this document.
        This project benefitted from various research grants, especially
          from NSF, NASA,
          and the The Moore--Sloan Data Science Environment.}
}

\noindent
David~W.~Hogg\\
\affil{Simons~Center~for~Data~Analysis,
       Simons~Foundation}\\
\affil{Center~for~Cosmology~and~Particle~Physics, Department~of~Physics,
       New~York~University}\\
\affil{Center~for~Data~Science,
       New~York~University}\\
\affil{Max-Planck-Institut~f\"ur~Astronomie, Heidelberg}\\[1ex]

\begin{abstract}
The sharing of data and code brings an investigator great benefits
(such as greater impact, good will, and reproducibility), but it also
incurs substantial costs (such as documentation and support
requirements, and risks of getting scooped).
The decision to share or not to share data and code is always a
technically subjective decision, depending---as it does---both on your
posterior beliefs about the world and on your utility function.
This \documentname\ does not contain a manifesto that advocates sharing!
It is a discussion of the considerations that must be weighed with one's
beliefs and utility in order to make a sensible decision.
Your utility function is likely to be a strong function of your career
stage, and your beliefs (about, say, your colleagues, and funding
agencies and so on) will be a strong function of your field of study;
there is no simple conclusion.
However, benefits outnumber (not necessarily outweigh, but outnumber)
costs for code sharing, and the opposite may be true for data sharing;
that is, it is more likely that an investigator will want to share
code than data.
However there are some ``economies of scale'' in which simultaneous
sharing of code and data can be better than sharing either alone.
In general, investigators working in fields that are fecund---where there
are more results to be investigated than there are investigators---are
more incentivized to share than those working in fields that are more
sterile.
\end{abstract}

\section{Subjectivity, utility, pragmatism}

LTFDFCF.

Going to treat data and code in parallel for most of what follows.

\section{Overview}

\newlength{\cwidth}\setlength{\cwidth}{0.483\textwidth}%
\begin{table}%
\begin{tabular}{@{}p{\cwidth}|p{\cwidth}@{}}% note @{} entries to remove space on edges
\multicolumn{2}{c}{\textbf{releasing data}} \\ \hline
\multicolumn{1}{c|}{costs} & \multicolumn{1}{c}{benefits} \\ \hline
\begin{enumerate}\raggedright
\item you might get scooped
\item you will have to document the data and its issues
\item you will have to answer questions about the data, sometimes dumb ones
\item you will have to beat down bad and incorrect papers written about your data
\item your reputation could suffer if the data are used wrongly
\item you will have to pay for archiving and web interface
\item you will have to make plans for long-term stewardship
\item there might be legal and privacy issues
\end{enumerate}&\begin{enumerate}\raggedright
\item more science gets done, more papers get written; all measures of impact increase
\item all results become reproducible and hackable
\item you are motivated to write up analyses and discoveries in a timely manner
\item you are motivated to document the data
\item outsiders reanalyze and generate new ideas for calibration or analysis; these improve your own future work
\item you get cred and visibility and build good will in your community
\item you are motivated to produce data products on some schedule
\item it's the right thing to do
\end{enumerate}\end{tabular}
\caption{Summary of costs and benefits for data release, vaguely
  ordered by importance (from most important to least). All of these
  telegraphic points are discussed in more depth in the main text. The
  word ``you'' is used loosely here---different readers will be at
  different career stages and have very different utilities---but this
  will be elaborated upon in the main text.\label{tab:data}}
\end{table}

\begin{table}%
\begin{tabular}{@{}p{\cwidth}|p{\cwidth}@{}}% note @{} entries to remove space on edges
\multicolumn{2}{c}{\textbf{open-sourcing code}} \\ \hline
\multicolumn{1}{c|}{costs} & \multicolumn{1}{c}{benefits} \\ \hline
\begin{enumerate}\raggedright
\item you might get scooped
\item you might be embarrassed by your ugly code, or by your failure to comment or document
\item you might have to answer questions about the code
\item you might have to beat down bad and incorrect results generated with your code
\item your reputation could suffer if the code is used wrongly
\item there might be legal (including military) and license issues
\end{enumerate}&\begin{enumerate}\raggedright
\item more science gets done, more papers get written; all measures of impact increase
\item you will be motivated to clean and document the code
\item all results become reproducible
\item outsiders find bugs or make improvements to your code and deliver pull requests
\item you get cred and visibility and build good will in your community
\item citation rates go up
\item there are good sites for long-term archiving, interface, and stewardship
\item code becomes searcheable and discoverable (including by you!)
\end{enumerate}\end{tabular}
\caption{Summary of costs and benefits for open-source code release,
  vaguely ordered from most important to least. As with
  \tablename~\ref{tab:data}, all of these are discussed in more depth
  in the main text, including the subjective ``you''.\label{tab:code}}
\end{table}

\section{Personal considerations}

Search! Hosting! Preservation!

Documentation burden (bad). Documentation pressure (good).

Exposure of the horror (bad). Encouragement to be less horrible (good).

\section{Team and management considerations}

\section{Ethical considerations}

You might expect me here to go all ``ethically, you must release your
data!''; I won't, because there are many situations in which it is in
fact \emph{unethical} to release data and code.

Coming back to the personal point about exposing the horror and
requirements to document: Both of these have ethical aspects: The more
we expose the horror, the more we make people comfortable with
sharing. The more we document, the more we help others with
reproducibility and with new science.

\section{Proprietary period and timeline}

\section{Licensing}

Open-sourcing your code means more than just publishing it.

Licensing has not really been explored for data, at least not in most
scientific domains.

\clearpage
\markright{Notes}\theendnotes

\clearpage
\raggedright
\begin{thebibliography}{}\markright{References}
\bibitem[Foreman-Mackey \etal(2012)]{emcee}
  Foreman-Mackey,~D., Hogg,~D.~W., Lang,~D., \& Goodman,~J.\ 2012,
  \project{emcee}: The \acronym{MCMC} Hammer,
  \textit{Pubs.\ Astron.\ Soc.\ Pac.}\ \textbf{125} 306--312
  \doi{10.1086/670067}
  (also \arxiv{1202.3665}).
\end{thebibliography}

\end{document}
