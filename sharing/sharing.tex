% This file is part of the Data Analysis Recipes project.
% Copyright 2016 David W. Hogg (NYU).

% to-do
% -----
% - Make table
% - First draft

% style notes
% -----------
% - These documents are ``Chapters'', no?  Use \documentname.
% - [LaTeX] newline after every full stop for proper git diffing
% - [LaTeX] eqnarray not equation
% - \note{} right after word if you are endnoting a phrase,
%   but after the full stop if endnoting the sentence or paragraph.

\documentclass[12pt,twoside,pdftex]{article}
\usepackage{dar_endnotes}
\usepackage{enumitem}

\newcommand{\chaptertitle}{The costs and benefits of releasing your data and open-sourcing your code}
\newcommand{\shorttitle}{Releasing data and open-sourcing code}
\include{dar}
\newlength{\myl}
\settowidth{\myl}{9.\rule{\itemsep}{0pt}}
\setlist{nosep, leftmargin=\myl}

\begin{document}\sloppy\sloppypar\raggedbottom\thispagestyle{plain}%
%
\section*{Data analysis recipes:\\ \chaptertitle\footnotemark}
%
\footnotetext{%
    The notes begin on page~\pageref{note:first}, including the
    license\note{\label{note:first}
        Copyright 2016 the author.
        This work is licensed under a
        \href{http://creativecommons.org/licenses/by-nc-nd/3.0/deed.en\_US}{%
            Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported
            License}.}
    and the acknowledgements\note{%
        I would like to thank
          Dustin Lang (Toronto),
          Dan Foreman-Mackey (UW),
          and the entire astrophysics community
        for valuable advice and comments over the years.
        This project benefitted from various research grants, especially
          from NSF, NASA,
          and the The Moore--Sloan Data Science Environment.}
}

\noindent
David~W.~Hogg\\
\affil{Simons~Center~for~Data~Analysis,
       Simons~Foundation}\\
\affil{Center~for~Cosmology~and~Particle~Physics, Department~of~Physics,
       New~York~University}\\
\affil{Center~for~Data~Science,
       New~York~University}\\
\affil{Max-Planck-Institut~f\"ur~Astronomie, Heidelberg}\\[1ex]

\begin{abstract}
foo, bar
\end{abstract}

\section{Economic pragmatism}

LTFDFCF.

Going to treat data and code in parallel for most of what follows.

\section{Overview}

\begin{table}
\begin{tabular}{@{}p{0.483\textwidth}|p{0.483\textwidth}@{}}% note @{} entries to remove space on edges
\multicolumn{1}{c|}{costs} & \multicolumn{1}{c}{benefits} \\
\hline \multicolumn{2}{c}{\textbf{releasing data}} \\ \hline
\begin{enumerate}\raggedright
\item you might get scooped
\item you will have to document the data and its issues
\item you will have to answer questions about the data, sometimes dumb ones
\item you will have to beat down bad and incorrect papers written about your data
\item your reputation could suffer if the data are used wrongly
\item you will have to pay for archiving and web interface
\item you will have to make plans for long-term stewardship
\end{enumerate}&\begin{enumerate}\raggedright
\item more science gets done, more papers get written; all measures of impact increase
\item you and your team will feel pressure to document the data
\item your team gets pressure to produce final data products in a timely manner
\item your team gets pressure to write papers on their own analyses and discoveries
\item your (and others') results become reproducible
\item outsiders reanalyze and generate new ideas for calibration or analysis; these improve future work by your own team and others
\item you get cred and visibility and build good will in your community
\end{enumerate} \\
\hline \multicolumn{2}{c}{\textbf{open-sourcing code}} \\ \hline
\begin{enumerate}\raggedright
\item you might get scooped
\item you might be embarrassed by your ugly code, or by your failure to comment or document
\item you might have to answer questions about the code
\item you might have to beat down bad and incorrect results generated with your code
\item your reputation could suffer if the code is used wrongly
\end{enumerate}&\begin{enumerate}\raggedright
\item more science gets done, more papers get written; all measures of impact increase
\item you and your team will feel pressure to document the code
\item pressure to write papers on the analyses and discoveries made with the code
\item your (and others') results become reproducible
\item outsiders find bugs or make improvements to your code and deliver pull requests
\item get cred and visibility and build good will in your community
\item there are good sites for long-term archiving, interface, and stewardship
\end{enumerate} \\
\hline\multicolumn{1}{c|}{costs} & \multicolumn{1}{c}{benefits} \\
\end{tabular}
\caption{Summary of costs and benefits. Each of these is discussed in
  the main text.\label{tab:summary}}
\end{table}

\section{Personal considerations}

Search! Hosting! Preservation!

Documentation burden (bad). Documentation pressure (good).

Exposure of the horror (bad). Encouragement to be less horrible (good).

\section{Team considerations}

\section{Ethical considerations}

You might expect me here to go all ``ethically, you must release your
data!''; I won't, because there are many situations in which it is in
fact \emph{unethical} to release data and code.

Coming back to the personal point about exposing the horror and
requirements to document: Both of these have ethical aspects: The more
we expose the horror, the more we make people comfortable with
sharing. The more we document, the more we help others with
reproducibility and with new science.

\section{Licensing}

Open-sourcing your code means more than just publishing it.

Licensing has not really been explored for data, at least not in most
scientific domains.

\clearpage
\markright{Notes}\theendnotes

\clearpage
\raggedright
\begin{thebibliography}{}\markright{References}
\bibitem[Foreman-Mackey \etal(2012)]{emcee}
  Foreman-Mackey,~D., Hogg,~D.~W., Lang,~D., \& Goodman,~J.\ 2012,
  \project{emcee}: The \acronym{MCMC} Hammer,
  \textit{Pubs.\ Astron.\ Soc.\ Pac.}\ \textbf{125} 306--312
  \doi{10.1086/670067}
  (also \arxiv{1202.3665}).
\end{thebibliography}

\end{document}
